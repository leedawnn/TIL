### 220325_TIL

- 모던 자바스크립트 deep dive 스터디

  - 오늘은 ch23장에서 렉시컬 환경부터 읽고 얘기를 나눴다. 실행 컨텍스트 부분은 어제도 읽었지만.. 다시 읽어도 어려운 부분인 것 같다 🥲 1회독만으로 완벽하게 이해하기는 절대 불가이고.. 스터디 끝나고 나서도 반복해서 읽어야겠다고 생각했다ㅠ

  ### 새로 배운 내용

  - let, const로 선언한 변수는 모든 코드 블록(함수, if문, for문, while문, try/catch문 등)을 지역 스코프로 인정하는 블록 레벨 스코프를 따른다.

    ```javascript
    let x = 1;

    if (true) {
      let x = 10;
      console.log(x); // 10
    }

    console.log(x); // 1
    ```

    위의 예제 코드에서 if문의 코드 블록이 실행되면 블록 레벨 스코프가 생성된다. 이 때 새로운 실행 컨텍스트가 생성되는 것이 아니라, 새로운 렉시컬 환경(block lexical enviroment)를 생성하여 기존의 렉시컬 환경을 교체한다.

    if문 코드 블록의 실행이 종료되면 이전의 렉시컬 환경으로 되돌린다.

  - for문의 변수 선언문에 let 키워드를 사용한 for문은 코드 블록이 반복해서 실행될 때마다 코드 블록을 위한 새로운 랙시컬 환경을 생성한다.
    함수의 상위 스코프는 for문의 코드 블록이 반복해서 실행될 때마다 식별자의 값을 유지해야하기 때문에, for문의 코드 블록이 반복해서 실행될 때마다 독립적인 렉시컬 환경을 생성하여 식별자의 값을 유지한다.
    이에 대해서 자세한 내용은 다음 24장. 클로저에 나와있다고 함.. 점점 내용이 어려워진다...
